<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hotel Details - C2C Journeys">
    <title>Hotel Details | Coast To Coast Journeys</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/hotel-booking.css">
</head>

<body class="hotel-details-page">
    <!-- Header -->
    <header class="header scrolled" id="header">
        <nav class="main-nav">
            <div class="container">
                <div class="nav-content">
                    <a href="index.html" class="logo">
                        <img src="../assets/images/c2c-logo.png" alt="C2C Journeys">
                        <span class="brand-name">C2C Journeys</span>
                    </a>

                    <ul class="nav-menu" id="navMenu">
                        <li><a href="index.html" class="nav-link">Home</a></li>
                        <li><a href="flight-booking.html" class="nav-link">Flights</a></li>
                        <li><a href="hotel-booking.html" class="nav-link active">Hotels</a></li>
                        <li><a href="visa.html" class="nav-link">Visa</a></li>
                        <li><a href="index.html#contact" class="nav-link">Contact</a></li>
                    </ul>

                    <div class="nav-actions">
                        <a href="javascript:history.back()" class="btn btn-outline" style="margin-right: 10px;">
                            <i class="fas fa-arrow-left"></i> Back
                        </a>
                        <a href="auth.html" class="btn btn-outline" id="loginBtn">
                            <i class="fas fa-user"></i> Login
                        </a>
                    </div>

                    <button class="mobile-menu-toggle" id="mobileMenuToggle">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </nav>
    </header>


    <!-- Main Content -->
    <main class="hotel-details-main">
        <!-- Breadcrumb -->
        <section class="breadcrumb-section">
            <div class="container">
                <nav class="breadcrumb">
                    <a href="index.html">Home</a>
                    <i class="fas fa-chevron-right"></i>
                    <a href="hotel-results.html">Hotels</a>
                    <i class="fas fa-chevron-right"></i>
                    <span id="hotelNameBreadcrumb">Loading...</span>
                </nav>
            </div>
        </section>

        <div class="container">
            <!-- Loading State -->
            <div class="loading-state" id="loadingState">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
                <p>Loading hotel details...</p>
            </div>

            <!-- Hotel Content -->
            <div class="hotel-details-content hidden" id="hotelContent">
                <div class="hotel-details-grid">
                    <!-- Left Column -->
                    <div class="hotel-details-left">
                        <!-- Gallery -->
                        <div class="hotel-gallery">
                            <div class="gallery-main" id="galleryMain"></div>
                            <div class="gallery-thumbs" id="galleryThumbs"></div>
                        </div>

                        <!-- Hotel Info -->
                        <div class="hotel-info-card">
                            <div class="hotel-stars" id="hotelStars"></div>
                            <h1 id="hotelName">Hotel Name</h1>
                            <p class="hotel-address" id="hotelAddress">
                                <i class="fas fa-map-marker-alt"></i> <span>Loading address...</span>
                            </p>
                            <div class="hotel-rating-large">
                                <span class="rating-badge" id="hotelRating">4.5</span>
                                <span class="rating-label" id="ratingLabel">Excellent</span>
                                <span class="review-count" id="reviewCount">(0 reviews)</span>
                            </div>
                            <p class="hotel-description" id="hotelDescription"></p>
                        </div>

                        <!-- Amenities -->
                        <div class="hotel-info-card">
                            <h2><i class="fas fa-concierge-bell"></i> Amenities</h2>
                            <div class="amenities-grid" id="amenitiesGrid">
                                <!-- Amenities will be inserted here -->
                            </div>
                        </div>

                        <!-- Hotel Policies (RateHawk Compliance) -->
                        <div class="hotel-info-card" id="hotelPoliciesCard">
                            <h2><i class="fas fa-clipboard-list"></i> Hotel Policies & Important Information</h2>
                            <div id="policiesLoading" class="policies-loading">
                                <i class="fas fa-spinner fa-spin"></i> Loading policies...
                            </div>
                            <div id="policiesContent" class="policies-content hidden">
                                <!-- Check-in/Check-out -->
                                <div class="policy-section" id="policyCheckInOut">
                                    <h3><i class="fas fa-clock"></i> Check-in & Check-out</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Children Policy -->
                                <div class="policy-section" id="policyChildren">
                                    <h3><i class="fas fa-child"></i> Children Policy</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Pets Policy -->
                                <div class="policy-section" id="policyPets">
                                    <h3><i class="fas fa-paw"></i> Pets Policy</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Internet -->
                                <div class="policy-section" id="policyInternet">
                                    <h3><i class="fas fa-wifi"></i> Internet</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Parking -->
                                <div class="policy-section" id="policyParking">
                                    <h3><i class="fas fa-parking"></i> Parking</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Payments/Deposit -->
                                <div class="policy-section" id="policyPayments">
                                    <h3><i class="fas fa-credit-card"></i> Payment & Deposit</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Extra Beds -->
                                <div class="policy-section" id="policyExtraBeds">
                                    <h3><i class="fas fa-bed"></i> Extra Beds & Cots</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Meals -->
                                <div class="policy-section" id="policyMeals">
                                    <h3><i class="fas fa-utensils"></i> Meals</h3>
                                    <div class="policy-items"></div>
                                </div>

                                <!-- Other Policies -->
                                <div class="policy-section" id="policyOther">
                                    <h3><i class="fas fa-info-circle"></i> Other Information</h3>
                                    <div class="policy-items"></div>
                                </div>
                            </div>
                            <div id="policiesError" class="policies-error hidden">
                                <i class="fas fa-info-circle"></i> Policy information not available for this hotel.
                            </div>
                        </div>

                        <!-- Room Rates -->
                        <div class="room-rates-section">
                            <h2><i class="fas fa-bed"></i> Available Rooms</h2>
                            <div class="rates-list" id="ratesList">
                                <!-- Rates will be inserted here -->
                            </div>
                        </div>

                        <!-- Location Map -->
                        <div class="hotel-info-card" id="locationSection" style="margin-top: 30px;">
                            <h2
                                style="font-size: 1.5rem; font-weight: 700; color: #0f172a; margin-bottom: 20px; display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-map-marked-alt" style="color: #0e64a6;"></i> Location & Surroundings
                            </h2>
                            <div class="hotel-map" id="hotelMap"
                                style="height: 400px; background: #f8fafc; border-radius: 16px; position: relative; border: 1px solid #e2e8f0; overflow: hidden;">
                                <!-- Map iframe will be inserted here by JS -->
                                <div class="loading-state"
                                    style="position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(255,255,255,0.8); gap: 15px;">
                                    <i class="fas fa-spinner fa-spin fa-2x" style="color: #0e64a6;"></i>
                                    <span style="color: #64748b; font-weight: 500;">Loading interactive map...</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column - Booking Card -->
                    <div class="booking-sidebar">
                        <div class="booking-card" id="bookingCard">
                            <h3>Booking Summary</h3>
                            <div class="booking-summary-content">
                                <div class="booking-dates">
                                    <div class="booking-date-item">
                                        <span class="date-label">Check-in</span>
                                        <span class="date-value" id="summaryCheckin">-</span>
                                    </div>
                                    <div class="booking-date-item">
                                        <span class="date-label">Check-out</span>
                                        <span class="date-value" id="summaryCheckout">-</span>
                                    </div>
                                </div>
                                <div class="booking-info">
                                    <div class="booking-summary-item">
                                        <span>Nights</span>
                                        <span id="summaryNights">-</span>
                                    </div>
                                    <div class="booking-summary-item">
                                        <span>Rooms</span>
                                        <span id="summaryRooms">-</span>
                                    </div>
                                    <div class="booking-summary-item">
                                        <span>Guests</span>
                                        <span id="summaryGuests">-</span>
                                    </div>
                                </div>
                                <div class="selected-room hidden" id="selectedRoomBox">
                                    <h4>Selected Room</h4>
                                    <p id="selectedRoomName">-</p>
                                    <p id="selectedMealPlan">-</p>
                                </div>
                                <div class="booking-total hidden" id="bookingTotalBox">
                                    <span>Total Price</span>
                                    <span id="totalPrice">â‚¹0</span>
                                </div>
                                <button class="confirm-booking-btn hidden" id="proceedToBookBtn" disabled>
                                    <i class="fas fa-lock"></i> Proceed to Book
                                </button>
                                <p class="select-room-prompt" id="selectRoomPrompt">
                                    <i class="fas fa-hand-pointer"></i> Select a room to proceed
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Trust Badge -->
                    <div class="booking-card"
                        style="margin-top: 1.5rem; padding: 1.5rem; text-align: center; border: 1px dashed #cbd5e1; box-shadow: none;">
                        <div style="font-size: 0.9rem; color: #64748b; margin-bottom: 1rem;">
                            <i class="fas fa-shield-alt" style="color: #22c55e; font-size: 1.25rem;"></i>
                            <span style="font-weight: 600; color: var(--navy); margin-left: 5px;">Secure Payments</span>
                        </div>
                        <div
                            style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; opacity: 0.6; font-size: 1.5rem;">
                            <i class="fab fa-cc-visa"></i>
                            <i class="fab fa-cc-mastercard"></i>
                            <i class="fab fa-cc-paypal"></i>
                            <i class="fab fa-cc-amex"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-payment-icons"
                style="display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; align-items: center;">
                <span style="color: #9ca3af; font-size: 0.9rem;">Payment Partners:</span>
                <img src="https://razorpay.com/assets/razorpay-logo-white.svg" alt="Razorpay"
                    style="height: 24px; filter: brightness(0) invert(1) opacity(0.8);">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" alt="PayPal"
                    style="height: 24px; background: white; padding: 3px 6px; border-radius: 4px;">
            </div>
            <div class="footer-bottom">
                <p>C2C Journeys is a customer-facing brand operated by Coast to Coast Journeys</p>
                <p>&copy; 2026 C2C Journeys. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../js/supabase-client.js"></script>
    <script>
        // Initialize auth state for header UI
        document.addEventListener('DOMContentLoaded', function () {
            if (typeof SupabaseDB !== 'undefined' && SupabaseDB.initAuthUI) {
                SupabaseDB.initAuthUI();
            }
        });
    </script>
    <script src="../js/auth-guard.js"></script>

    <script src="../js/hotel-api.js"></script>
    <script src="../js/hotel-details.js"></script>
</body>

</html>